{% load static %} <!-- #コード追記（5-9）（P.246） -->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}{% endblock title %}</title> <!-- #コード追記（4-8） -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{% static 'book/css/style.css' %}"> <!-- #コード追記（5-9） -->
  </head>
  <body>
    <nav class="navbar navbar-dark bg-success sticky-top"> <!-- #コード追記（4-13） -->
      <div class="navbar-nav d-flex flex-row">
        <a class="nav-link mx-3" href="{% url 'index' %}">TOP</a>
        <a class="nav-link mx-3" href="{% url 'list-book' %}">書籍一覧</a>
        <a class="nav-link mx-3"  href="{% url 'create-book' %}">書籍登録</a>
      </div>

      <!-- コード追記（5-5（P.194）） -->
      <div class="navbar-nav d-flex flex-row">
        {%if request.user.is_authenticated %}
          <!--<a class="nav-link mx-3" href="{% url 'accounts:logout' %}">ログアウト</a>--><!-- コード修正（5-6（P.202）） -->

<!-- ★ LogoutViewのDjango5.0以降でのPOST対策 -->
<a href="#" onclick="logout(); return false;" class="nav-link mx-3">ログアウト</a>
<form id="LogoutForm" method="post" action="{% url 'accounts:logout' %}" style="display:none;">
  {% csrf_token %}
</form>
<script>
function logout() {
  document.getElementById("LogoutForm").submit();
}
</script>

        {% else %}
          <a class="nav-link mx-3" href="{% url 'accounts:login' %}">ログイン</a><!-- コード修正（5-6（P.202）） -->
          <a class="nav-link mx-3" href="{% url 'accounts:signup' %}">会員登録</a><!-- コード修正（5-6（P.213）） -->
        {% endif %}
      </div>
    </nav>

    <div class="p-4">
      <h1>{% block h1 %}{% endblock %}</h1>
      {% block content %}{% endblock content %} <!-- #コード追記（4-8） -->
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
  </body>
</html>

